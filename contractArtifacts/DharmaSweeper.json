{
    "contractName": "DharmaSweeper",
    "abi": [
      {
        "inputs": [
          {
            "name": "agreementId",
            "type": "bytes32"
          },
          {
            "name": "repaymentRouter",
            "type": "address"
          },
          {
            "name": "tokenTransferProxy",
            "type": "address"
          },
          {
            "name": "tokenAddress",
            "type": "address"
          },
          {
            "name": "gasRefund",
            "type": "address"
          },
          {
            "name": "amount",
            "type": "uint256"
          }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "constructor"
      }
    ],
    "bytecode": "0x608060405234801561001057600080fd5b5060405160c0806102058339810180604052810190808051906020019092919080519060200190929190805190602001909291908051906020019092919080519060200190929190805190602001909291905050508273ffffffffffffffffffffffffffffffffffffffff1663095ea7b385836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b15801561010857600080fd5b505af115801561011c573d6000803e3d6000fd5b505050508473ffffffffffffffffffffffffffffffffffffffff1663ff2681258783866040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019350505050600060405180830381600087803b1580156101d357600080fd5b505af11580156101e7573d6000803e3d6000fd5b505050508173ffffffffffffffffffffffffffffffffffffffff16ff00",
    "deployedBytecode": "0x6080604052600080fd00a165627a7a723058204dd4241700ad90fc71c01a1743841bb488bea110bbf91076cd456196e0ec92610029",
    "sourceMap": "631:543:0:-;;;661:511;8:9:-1;5:2;;;30:1;27;20:12;5:2;661:511:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;941:12;934:28;;;963:18;983:6;934:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;934:56:0;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;934:56:0;;;;1047:15;1030:39;;;1070:11;1083:6;1091:12;1030:74;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1030:74:0;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1030:74:0;;;;1155:9;1142:23;;",
    "deployedSourceMap": "631:543:0:-;;;;;",
    "source": "pragma solidity ^0.4.24;\n\n/**\n * Based on Austin Griffith's Counterfactual Sweeper contract\n * https://github.com/austintgriffith/counterfactual-token-repayment/blob/master/contracts/Sweeper/Sweeper.sol\n *\n * Upon creation, this contract will make a repayment on behalf of a debtor\n *\n * agreementId - Dharma loan agreement ID\n * repaymentRouter - Address of Dharma's RepaymentRouter contract\n * tokenTransferProxy - Address of Dharma's token proxy contract\n * tokenAddress - Address of ERC20 token being repaid\n * gasRefund - Address that any remaining ETH should be returned to\n * amount - Amount of ERC20 token being repaid\n */\ncontract DharmaSweeper {\n\n    constructor(\n        bytes32 agreementId,\n        address repaymentRouter,\n        address tokenTransferProxy,\n        address tokenAddress,\n        address gasRefund,\n        uint256 amount\n    )\n        public\n    {\n        // approve Dharma's tokenTransferProxy\n        IERC20(tokenAddress).approve(tokenTransferProxy, amount);\n        // make the repayment\n        IRepaymentRouter(repaymentRouter).repay(agreementId, amount, tokenAddress);\n        // destroy contract\n        selfdestruct(gasRefund);\n    }\n}\n\ncontract IERC20 {\n    function approve(address spender, uint256 value) external {}\n}\n\ncontract IRepaymentRouter {\n    function repay(bytes32 agreementId, uint256 amount, address tokenAddress) external {}\n}",
    "sourcePath": "/Users/tyndall/Documents/Projects/counterfactual-dharma-repayment/contracts/DharmaSweeper.sol",
    "ast": {
      "absolutePath": "/Users/tyndall/Documents/Projects/counterfactual-dharma-repayment/contracts/DharmaSweeper.sol",
      "exportedSymbols": {
        "DharmaSweeper": [
          39
        ],
        "IERC20": [
          48
        ],
        "IRepaymentRouter": [
          59
        ]
      },
      "id": 60,
      "nodeType": "SourceUnit",
      "nodes": [
        {
          "id": 1,
          "literals": [
            "solidity",
            "^",
            "0.4",
            ".24"
          ],
          "nodeType": "PragmaDirective",
          "src": "0:24:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": "Based on Austin Griffith's Counterfactual Sweeper contract\nhttps://github.com/austintgriffith/counterfactual-token-repayment/blob/master/contracts/Sweeper/Sweeper.sol\n * Upon creation, this contract will make a repayment on behalf of a debtor\n * agreementId - Dharma loan agreement ID\nrepaymentRouter - Address of Dharma's RepaymentRouter contract\ntokenTransferProxy - Address of Dharma's token proxy contract\ntokenAddress - Address of ERC20 token being repaid\ngasRefund - Address that any remaining ETH should be returned to\namount - Amount of ERC20 token being repaid",
          "fullyImplemented": true,
          "id": 39,
          "linearizedBaseContracts": [
            39
          ],
          "name": "DharmaSweeper",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 37,
                "nodeType": "Block",
                "src": "877:295:0",
                "statements": [
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 20,
                          "name": "tokenTransferProxy",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 7,
                          "src": "963:18:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 21,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 13,
                          "src": "983:6:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 17,
                              "name": "tokenAddress",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 9,
                              "src": "941:12:0",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 16,
                            "name": "IERC20",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 48,
                            "src": "934:6:0",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_IERC20_$48_$",
                              "typeString": "type(contract IERC20)"
                            }
                          },
                          "id": 18,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "934:20:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IERC20_$48",
                            "typeString": "contract IERC20"
                          }
                        },
                        "id": 19,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "approve",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 47,
                        "src": "934:28:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",
                          "typeString": "function (address,uint256) external"
                        }
                      },
                      "id": 22,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "934:56:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 23,
                    "nodeType": "ExpressionStatement",
                    "src": "934:56:0"
                  },
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 28,
                          "name": "agreementId",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3,
                          "src": "1070:11:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 29,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 13,
                          "src": "1083:6:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 30,
                          "name": "tokenAddress",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 9,
                          "src": "1091:12:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 25,
                              "name": "repaymentRouter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 5,
                              "src": "1047:15:0",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 24,
                            "name": "IRepaymentRouter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 59,
                            "src": "1030:16:0",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_IRepaymentRouter_$59_$",
                              "typeString": "type(contract IRepaymentRouter)"
                            }
                          },
                          "id": 26,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1030:33:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IRepaymentRouter_$59",
                            "typeString": "contract IRepaymentRouter"
                          }
                        },
                        "id": 27,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "repay",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 58,
                        "src": "1030:39:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$_t_bytes32_$_t_uint256_$_t_address_$returns$__$",
                          "typeString": "function (bytes32,uint256,address) external"
                        }
                      },
                      "id": 31,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1030:74:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 32,
                    "nodeType": "ExpressionStatement",
                    "src": "1030:74:0"
                  },
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 34,
                          "name": "gasRefund",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11,
                          "src": "1155:9:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 33,
                        "name": "selfdestruct",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 139,
                        "src": "1142:12:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_selfdestruct_nonpayable$_t_address_$returns$__$",
                          "typeString": "function (address)"
                        }
                      },
                      "id": 35,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1142:23:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 36,
                    "nodeType": "ExpressionStatement",
                    "src": "1142:23:0"
                  }
                ]
              },
              "documentation": null,
              "id": 38,
              "implemented": true,
              "isConstructor": true,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 14,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 3,
                    "name": "agreementId",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "682:19:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    },
                    "typeName": {
                      "id": 2,
                      "name": "bytes32",
                      "nodeType": "ElementaryTypeName",
                      "src": "682:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 5,
                    "name": "repaymentRouter",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "711:23:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 4,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "711:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 7,
                    "name": "tokenTransferProxy",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "744:26:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 6,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "744:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 9,
                    "name": "tokenAddress",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "780:20:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 8,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "780:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 11,
                    "name": "gasRefund",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "810:17:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 10,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "810:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 13,
                    "name": "amount",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "837:14:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 12,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "837:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "672:185:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 15,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "877:0:0"
              },
              "scope": 39,
              "src": "661:511:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "public"
            }
          ],
          "scope": 60,
          "src": "631:543:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": null,
          "fullyImplemented": true,
          "id": 48,
          "linearizedBaseContracts": [
            48
          ],
          "name": "IERC20",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 46,
                "nodeType": "Block",
                "src": "1256:2:0",
                "statements": []
              },
              "documentation": null,
              "id": 47,
              "implemented": true,
              "isConstructor": false,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "approve",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 44,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 41,
                    "name": "spender",
                    "nodeType": "VariableDeclaration",
                    "scope": 47,
                    "src": "1215:15:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 40,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1215:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 43,
                    "name": "value",
                    "nodeType": "VariableDeclaration",
                    "scope": 47,
                    "src": "1232:13:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 42,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1232:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "1214:32:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 45,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "1256:0:0"
              },
              "scope": 48,
              "src": "1198:60:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "external"
            }
          ],
          "scope": 60,
          "src": "1176:84:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": null,
          "fullyImplemented": true,
          "id": 59,
          "linearizedBaseContracts": [
            59
          ],
          "name": "IRepaymentRouter",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 57,
                "nodeType": "Block",
                "src": "1377:2:0",
                "statements": []
              },
              "documentation": null,
              "id": 58,
              "implemented": true,
              "isConstructor": false,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "repay",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 55,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 50,
                    "name": "agreementId",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1309:19:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    },
                    "typeName": {
                      "id": 49,
                      "name": "bytes32",
                      "nodeType": "ElementaryTypeName",
                      "src": "1309:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 52,
                    "name": "amount",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1330:14:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 51,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1330:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 54,
                    "name": "tokenAddress",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1346:20:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 53,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1346:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "1308:59:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 56,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "1377:0:0"
              },
              "scope": 59,
              "src": "1294:85:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "external"
            }
          ],
          "scope": 60,
          "src": "1262:119:0"
        }
      ],
      "src": "0:1381:0"
    },
    "legacyAST": {
      "absolutePath": "/Users/tyndall/Documents/Projects/counterfactual-dharma-repayment/contracts/DharmaSweeper.sol",
      "exportedSymbols": {
        "DharmaSweeper": [
          39
        ],
        "IERC20": [
          48
        ],
        "IRepaymentRouter": [
          59
        ]
      },
      "id": 60,
      "nodeType": "SourceUnit",
      "nodes": [
        {
          "id": 1,
          "literals": [
            "solidity",
            "^",
            "0.4",
            ".24"
          ],
          "nodeType": "PragmaDirective",
          "src": "0:24:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": "Based on Austin Griffith's Counterfactual Sweeper contract\nhttps://github.com/austintgriffith/counterfactual-token-repayment/blob/master/contracts/Sweeper/Sweeper.sol\n * Upon creation, this contract will make a repayment on behalf of a debtor\n * agreementId - Dharma loan agreement ID\nrepaymentRouter - Address of Dharma's RepaymentRouter contract\ntokenTransferProxy - Address of Dharma's token proxy contract\ntokenAddress - Address of ERC20 token being repaid\ngasRefund - Address that any remaining ETH should be returned to\namount - Amount of ERC20 token being repaid",
          "fullyImplemented": true,
          "id": 39,
          "linearizedBaseContracts": [
            39
          ],
          "name": "DharmaSweeper",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 37,
                "nodeType": "Block",
                "src": "877:295:0",
                "statements": [
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 20,
                          "name": "tokenTransferProxy",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 7,
                          "src": "963:18:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 21,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 13,
                          "src": "983:6:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 17,
                              "name": "tokenAddress",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 9,
                              "src": "941:12:0",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 16,
                            "name": "IERC20",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 48,
                            "src": "934:6:0",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_IERC20_$48_$",
                              "typeString": "type(contract IERC20)"
                            }
                          },
                          "id": 18,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "934:20:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IERC20_$48",
                            "typeString": "contract IERC20"
                          }
                        },
                        "id": 19,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "approve",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 47,
                        "src": "934:28:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",
                          "typeString": "function (address,uint256) external"
                        }
                      },
                      "id": 22,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "934:56:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 23,
                    "nodeType": "ExpressionStatement",
                    "src": "934:56:0"
                  },
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 28,
                          "name": "agreementId",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3,
                          "src": "1070:11:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 29,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 13,
                          "src": "1083:6:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 30,
                          "name": "tokenAddress",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 9,
                          "src": "1091:12:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 25,
                              "name": "repaymentRouter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 5,
                              "src": "1047:15:0",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 24,
                            "name": "IRepaymentRouter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 59,
                            "src": "1030:16:0",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_IRepaymentRouter_$59_$",
                              "typeString": "type(contract IRepaymentRouter)"
                            }
                          },
                          "id": 26,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1030:33:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IRepaymentRouter_$59",
                            "typeString": "contract IRepaymentRouter"
                          }
                        },
                        "id": 27,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "repay",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 58,
                        "src": "1030:39:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$_t_bytes32_$_t_uint256_$_t_address_$returns$__$",
                          "typeString": "function (bytes32,uint256,address) external"
                        }
                      },
                      "id": 31,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1030:74:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 32,
                    "nodeType": "ExpressionStatement",
                    "src": "1030:74:0"
                  },
                  {
                    "expression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 34,
                          "name": "gasRefund",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11,
                          "src": "1155:9:0",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 33,
                        "name": "selfdestruct",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 139,
                        "src": "1142:12:0",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_selfdestruct_nonpayable$_t_address_$returns$__$",
                          "typeString": "function (address)"
                        }
                      },
                      "id": 35,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1142:23:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 36,
                    "nodeType": "ExpressionStatement",
                    "src": "1142:23:0"
                  }
                ]
              },
              "documentation": null,
              "id": 38,
              "implemented": true,
              "isConstructor": true,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 14,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 3,
                    "name": "agreementId",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "682:19:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    },
                    "typeName": {
                      "id": 2,
                      "name": "bytes32",
                      "nodeType": "ElementaryTypeName",
                      "src": "682:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 5,
                    "name": "repaymentRouter",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "711:23:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 4,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "711:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 7,
                    "name": "tokenTransferProxy",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "744:26:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 6,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "744:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 9,
                    "name": "tokenAddress",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "780:20:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 8,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "780:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 11,
                    "name": "gasRefund",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "810:17:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 10,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "810:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 13,
                    "name": "amount",
                    "nodeType": "VariableDeclaration",
                    "scope": 38,
                    "src": "837:14:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 12,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "837:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "672:185:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 15,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "877:0:0"
              },
              "scope": 39,
              "src": "661:511:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "public"
            }
          ],
          "scope": 60,
          "src": "631:543:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": null,
          "fullyImplemented": true,
          "id": 48,
          "linearizedBaseContracts": [
            48
          ],
          "name": "IERC20",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 46,
                "nodeType": "Block",
                "src": "1256:2:0",
                "statements": []
              },
              "documentation": null,
              "id": 47,
              "implemented": true,
              "isConstructor": false,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "approve",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 44,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 41,
                    "name": "spender",
                    "nodeType": "VariableDeclaration",
                    "scope": 47,
                    "src": "1215:15:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 40,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1215:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 43,
                    "name": "value",
                    "nodeType": "VariableDeclaration",
                    "scope": 47,
                    "src": "1232:13:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 42,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1232:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "1214:32:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 45,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "1256:0:0"
              },
              "scope": 48,
              "src": "1198:60:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "external"
            }
          ],
          "scope": 60,
          "src": "1176:84:0"
        },
        {
          "baseContracts": [],
          "contractDependencies": [],
          "contractKind": "contract",
          "documentation": null,
          "fullyImplemented": true,
          "id": 59,
          "linearizedBaseContracts": [
            59
          ],
          "name": "IRepaymentRouter",
          "nodeType": "ContractDefinition",
          "nodes": [
            {
              "body": {
                "id": 57,
                "nodeType": "Block",
                "src": "1377:2:0",
                "statements": []
              },
              "documentation": null,
              "id": 58,
              "implemented": true,
              "isConstructor": false,
              "isDeclaredConst": false,
              "modifiers": [],
              "name": "repay",
              "nodeType": "FunctionDefinition",
              "parameters": {
                "id": 55,
                "nodeType": "ParameterList",
                "parameters": [
                  {
                    "constant": false,
                    "id": 50,
                    "name": "agreementId",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1309:19:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    },
                    "typeName": {
                      "id": 49,
                      "name": "bytes32",
                      "nodeType": "ElementaryTypeName",
                      "src": "1309:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 52,
                    "name": "amount",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1330:14:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "typeName": {
                      "id": 51,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1330:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  },
                  {
                    "constant": false,
                    "id": 54,
                    "name": "tokenAddress",
                    "nodeType": "VariableDeclaration",
                    "scope": 58,
                    "src": "1346:20:0",
                    "stateVariable": false,
                    "storageLocation": "default",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "typeName": {
                      "id": 53,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1346:7:0",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "value": null,
                    "visibility": "internal"
                  }
                ],
                "src": "1308:59:0"
              },
              "payable": false,
              "returnParameters": {
                "id": 56,
                "nodeType": "ParameterList",
                "parameters": [],
                "src": "1377:0:0"
              },
              "scope": 59,
              "src": "1294:85:0",
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "external"
            }
          ],
          "scope": 60,
          "src": "1262:119:0"
        }
      ],
      "src": "0:1381:0"
    },
    "compiler": {
      "name": "solc",
      "version": "0.4.25+commit.59dbf8f1.Emscripten.clang"
    },
    "networks": {},
    "schemaVersion": "3.0.0-beta.1",
    "updatedAt": "2018-12-12T15:22:06.768Z"
  }